{"ast":null,"code":"// frontend/src/pages/company/DashboardCompanyEvaluation.js\nimport React,{useEffect,useState}from'react';import axios from'axios';import Header from'../../components/Header';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DashboardCompanyEvaluation=()=>{const[students,setStudents]=useState([]);const navigate=useNavigate();useEffect(()=>{const fetchStudents=async()=>{try{const company_id=localStorage.getItem('companyId');const res=await axios.get(`http://localhost:5000/api/evaluation/company/students/${company_id}`);setStudents(res.data);}catch(err){console.error(\"❌ ดึงรายชื่อนิสิตล้มเหลว:\",err);}};fetchStudents();},[]);const handleEvaluate=student_id=>{navigate(`/evaluation/${student_id}`);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#9AE5F2] text-[#130347]\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[88%] mx-auto py-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold flex items-center gap-2 mb-6\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E19\\u0E34\\u0E2A\\u0E34\\u0E15\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[#465d71] mb-6\",children:\"\\u0E23\\u0E32\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E19\\u0E34\\u0E2A\\u0E34\\u0E15\\u0E43\\u0E19\\u0E04\\u0E27\\u0E32\\u0E21\\u0E14\\u0E39\\u0E41\\u0E25 \\u0E1E\\u0E23\\u0E49\\u0E2D\\u0E21\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\\u0E01\\u0E32\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E41\\u0E25\\u0E30\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:students.map(student=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-md p-5 flex flex-col items-center text-center hover:shadow-lg transition\",children:[/*#__PURE__*/_jsx(\"img\",{src:student.profile_image?`http://localhost:5000/uploads/${student.profile_image}`:`http://localhost:5000/uploads/default.jpg`,alt:student.student_name,className:\"w-24 h-24 object-cover rounded-full border-4 border-[#6EC7E2] mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold text-lg\",children:student.student_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E19\\u0E34\\u0E2A\\u0E34\\u0E15: \",student.student_id]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23: \",student.phone_number]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25: \",student.email]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:student.university}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:student.evaluation_status==='completed'?/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-600 px-4 py-1 rounded-full text-sm font-semibold\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E40\\u0E2A\\u0E23\\u0E47\\u0E08\\u0E2A\\u0E34\\u0E49\\u0E19\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEvaluate(student.student_id),className:\"bg-[#225EC4] hover:bg-[#1b55b5] text-white px-5 py-2 rounded-full shadow-md transition\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"})})]},student.student_id))})]})]});};export default DashboardCompanyEvaluation;","map":{"version":3,"names":["React","useEffect","useState","axios","Header","useNavigate","jsx","_jsx","jsxs","_jsxs","DashboardCompanyEvaluation","students","setStudents","navigate","fetchStudents","company_id","localStorage","getItem","res","get","data","err","console","error","handleEvaluate","student_id","className","children","map","student","src","profile_image","alt","student_name","phone_number","email","university","evaluation_status","onClick"],"sources":["D:/New folder/internconnect/frontend/src/pages/dashboard/DashboardCompanyEvaluation.js"],"sourcesContent":["// frontend/src/pages/company/DashboardCompanyEvaluation.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Header from '../../components/Header';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst DashboardCompanyEvaluation = () => {\r\n  const [students, setStudents] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchStudents = async () => {\r\n      try {\r\n        const company_id = localStorage.getItem('companyId');\r\n        const res = await axios.get(`http://localhost:5000/api/evaluation/company/students/${company_id}`);\r\n        setStudents(res.data);\r\n      } catch (err) {\r\n        console.error(\"❌ ดึงรายชื่อนิสิตล้มเหลว:\", err);\r\n      }\r\n    };\r\n    fetchStudents();\r\n  }, []);\r\n\r\n  const handleEvaluate = (student_id) => {\r\n    navigate(`/evaluation/${student_id}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#9AE5F2] text-[#130347]\">\r\n      <Header />\r\n\r\n      <div className=\"w-[88%] mx-auto py-6\">\r\n        {/* หัวข้อ */}\r\n        <h1 className=\"text-2xl font-bold flex items-center gap-2 mb-6\">\r\n          ประเมินนิสิต\r\n        </h1>\r\n        <p className=\"text-[#465d71] mb-6\">\r\n          รายชื่อนิสิตในความดูแล พร้อมสถานะการประเมินและข้อมูลติดต่อ\r\n        </p>\r\n\r\n        {/* รายการนิสิต */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n          {students.map((student) => (\r\n            <div\r\n              key={student.student_id}\r\n              className=\"bg-white rounded-2xl shadow-md p-5 flex flex-col items-center text-center hover:shadow-lg transition\"\r\n            >\r\n              {/* รูปโปรไฟล์ */}\r\n              <img\r\n                src={\r\n                  student.profile_image\r\n                    ? `http://localhost:5000/uploads/${student.profile_image}`\r\n                    : `http://localhost:5000/uploads/default.jpg`\r\n                }\r\n                alt={student.student_name}\r\n                className=\"w-24 h-24 object-cover rounded-full border-4 border-[#6EC7E2] mb-4\"\r\n              />\r\n\r\n              {/* ข้อมูลนิสิต */}\r\n              <h2 className=\"font-bold text-lg\">{student.student_name}</h2>\r\n              <p className=\"text-sm text-gray-600\">รหัสนิสิต: {student.student_id}</p>\r\n              <p className=\"text-sm text-gray-600\">เบอร์โทร: {student.phone_number}</p>\r\n              <p className=\"text-sm text-gray-600\">อีเมล: {student.email}</p>\r\n              <p className=\"text-sm text-gray-600\">{student.university}</p>\r\n\r\n              {/* ปุ่ม */}\r\n              <div className=\"mt-4\">\r\n                {student.evaluation_status === 'completed' ? (\r\n                  <span className=\"bg-green-100 text-green-600 px-4 py-1 rounded-full text-sm font-semibold\">\r\n                    ประเมินเสร็จสิ้น\r\n                  </span>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => handleEvaluate(student.student_id)}\r\n                    className=\"bg-[#225EC4] hover:bg-[#1b55b5] text-white px-5 py-2 rounded-full shadow-md transition\"\r\n                  >\r\n                    ประเมินคะแนน\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardCompanyEvaluation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}